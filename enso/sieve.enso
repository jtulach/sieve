from Standard.Base import IO

type Gen
    type Generator a:Int tail:Any -> Gen

    next : Gen
    next = this.tail 0

    n = this.a

natural : Gen
natural =
    gen = n -> Generator n (_ -> gen (n + 1))
    gen 2


printN : Gen -> Int -> Any
printN g n = if n == 0 then 0 else
    IO.println g.n
    here.printN g.next n-1

main =
    two = here.natural
    here.printN two 12
